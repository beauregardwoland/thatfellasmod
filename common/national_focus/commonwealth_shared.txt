joint_focus = {
	id = commonwealth_joint_wol
	
	#dynamic = yes 
	
	icon = GFX_goal_tfv_strengthen_commonwealth_ties
	
	
	#prerequisite = { focus = NORDIC_strengthen_ties }
	#prerequisite = { focus = NORDIC_mutual_guarantees }


	x = 10
	y = 10

	offset = {
		x = 11
		y = -6
		trigger = {
			tag = RAJ
		}
	}
	offset = {
		x = 17
		y = -2
		trigger = {
			tag = ENG
		}
	}
	offset = {
		x = 11
		y = -4
		trigger = {
			tag = CAN
		}
	}
	offset = {
		x = 4
		y = -2
		trigger = {
			tag = SAF
		}
	}
	offset = {
		x = 18
		y = -5
		trigger = {
			tag = AST
		}
	}
	offset = {
		x = 6
		y = -5
		trigger = {
			tag = NZL
		}
	}


	#relative_position_id = NORDIC_mutual_guarantees
	cost = 5

	text_icon = NORDIC_focus_style

	available = {
		ENG = {
			has_completed_focus = uk_commonwealth_focus
		}
	}
	ai_will_do = {
		
	}
	bypass = {
	}

	joint_trigger = {
		or = {
		  tag = CAN
		  tag = SAF
		  tag = RAJ
		  tag = AST
		  tag = NZL
		  tag = MAL
		  tag = ENG
	  } 
    }

	search_filters = { FOCUS_FILTER_POLITICAL }

	completion_reward_joint_originator = {
		add_political_power = 50
		hidden_effect = {
			set_variable = { commonwealth_army_experience_gain_army_factor = 0 }
			set_variable = { commonwealth_army_max_command_power = 0 }
			set_variable = { commonwealth_army_planning_speed = 0 }
			set_variable = { commonwealth_army_max_planning = 0 }
			set_variable = { commonwealth_special_forces_cap = 0 }
			set_variable = { commonwealth_special_forces_attack_factor = 0 }
			set_variable = { commonwealth_army_armor = 0 }
			set_variable = { commonwealth_army_armor2 = 0 }
		}
		every_core_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
			random_select_amount = 3
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}

	completion_reward_joint_member = { 
		add_political_power = 50
		hidden_effect = {
			set_variable = { commonwealth_army_experience_gain_army_factor = 0 }
			set_variable = { commonwealth_army_max_command_power = 0 }
			set_variable = { commonwealth_army_planning_speed = 0 }
			set_variable = { commonwealth_army_max_planning = 0 }
			set_variable = { commonwealth_special_forces_cap = 0 }
			set_variable = { commonwealth_special_forces_attack_factor = 0 }
			set_variable = { commonwealth_army_armor = 0 }
			set_variable = { commonwealth_army_armor2 = 0 }
		}
		every_core_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

joint_focus = {
	id = commonwealth_joint_wol_air
	
	icon = GFX_focus_NORDIC_mon_airforce
	
	prerequisite = { focus = commonwealth_joint_wol }

	x = -4
	y = 1
	relative_position_id = commonwealth_joint_wol
	cost = 5

	text_icon = NORDIC_focus_style

	available = {
		
	}

	search_filters = {}

	joint_trigger = {
  		or = {
			tag = CAN
			tag = SAF
			tag = RAJ
			tag = AST
			tag = NZL
			tag = MAL
			tag = ENG
		} 
	}

	completion_reward = {
		
	}

	completion_reward_joint_originator = {
		air_experience = 50
		add_doctrine_cost_reduction = {
			name = NORDIC_naval_exercises
			cost_reduction = 0.25
			uses = 2
			category = air_doctrine 
		}
		custom_effect_tooltip = modify_commonwealth_spirit_air
		effect_tooltip = {
			set_variable = {
				var = commonwealth_air_range_factor
				value = 0.15
				tooltip = air_range_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_air_range_factor
				value = 0.15
			}
		}
	}

	completion_reward_joint_member = { 
		air_experience = 25
		add_doctrine_cost_reduction = {
			name = NORDIC_naval_exercises
			cost_reduction = 0.25
			uses = 1
			category = air_doctrine 
		}
		custom_effect_tooltip = modify_commonwealth_spirit_air
		effect_tooltip = {
			set_variable = {
				var = commonwealth_air_range_factor
				value = 0.075
				tooltip = air_range_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_air_range_factor
				value = 0.075
			}
		}
	}
}

joint_focus = {
	id = commonwealth_joint_wol_air_con
	
	icon = GFX_focus_SOV_flying_clubs
	
	prerequisite = { focus = commonwealth_joint_wol_air }

	x = 0
	y = 1
	relative_position_id = commonwealth_joint_wol_air
	cost = 5

	text_icon = NORDIC_focus_style

	available = {
		
	}

	search_filters = {}

	joint_trigger = {
  		or = {
			tag = CAN
			tag = SAF
			tag = RAJ
			tag = AST
			tag = NZL
			tag = MAL
			tag = ENG
		} 
	}

	completion_reward = {
		
	}

	completion_reward_joint_originator = {
		#add_ideas = commonwealth_armor_7
		custom_effect_tooltip = modify_commonwealth_spirit_air
		effect_tooltip = {
			set_variable = {
				var = commonwealth_air_experience_gain_army_factor
				value = 0.1
				tooltip = experience_gain_air_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_air_experience_gain_army_factor
				value = 0.1
			}
		}
		effect_tooltip = {
			set_variable = {
				var = commonwealth_air_cas_present_factor
				value = 0.1
				tooltip = air_cas_present_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_air_cas_present_factor
				value = 0.1
			}
		}

		effect_tooltip = {
			set_variable = {
				var = commonwealth_air_ace_generation_chance_factor
				value = 0.15
				tooltip = air_ace_generation_chance_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_air_ace_generation_chance_factor
				value = 0.15
			}
		}
		effect_tooltip = {
			set_variable = {
				var = commonwealth_air_accidents_factor
				value = -0.2
				tooltip = air_accidents_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_air_accidents_factor
				value = -0.2
			}
		}
	}

	completion_reward_joint_member = { 
		#add_ideas = commonwealth_armor_8
		custom_effect_tooltip = modify_commonwealth_spirit_air
		effect_tooltip = {
			set_variable = {
				var = commonwealth_air_experience_gain_army_factor
				value = 0.1
				tooltip = experience_gain_air_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_air_experience_gain_army_factor
				value = 0.1
			}
		}
		effect_tooltip = {
			set_variable = {
				var = commonwealth_air_cas_present_factor
				value = 0.075
				tooltip = air_cas_present_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_air_cas_present_factor
				value = 0.075
			}
		}
	}
}

joint_focus = {
	id = commonwealth_joint_wol_armytwo
	
	icon = GFX_focus_generic_military_mission
	
	prerequisite = { focus = commonwealth_joint_wol }

	x = -2
	y = 1
	relative_position_id = commonwealth_joint_wol
	cost = 5

	text_icon = NORDIC_focus_style

	available = {
		
	}

	search_filters = {}

	joint_trigger = {
  		or = {
			tag = CAN
			tag = SAF
			tag = RAJ
			tag = AST
			tag = NZL
			tag = MAL
			tag = ENG
		} 
	}

	completion_reward = {
		
	}

	completion_reward_joint_originator = {
		#add_ideas = commonwealth_armor_6
		custom_effect_tooltip = modify_commonwealth_spirit_army

		effect_tooltip = {
			set_variable = {
				var = commonwealth_army_planning_speed
				value = 0.15
				tooltip = planning_speed_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_army_planning_speed
				value = 0.15
			}
		}
		effect_tooltip = {
			set_variable = {
				var = commonwealth_army_max_planning
				value = 0.075
				tooltip = max_planning_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_army_max_planning
				value = 0.075
			}
		}
	}

	completion_reward_joint_member = { 
		#add_ideas = commonwealth_armor_5
		custom_effect_tooltip = modify_commonwealth_spirit_army

		effect_tooltip = {
			set_variable = {
				var = commonwealth_army_planning_speed
				value = 0.1
				tooltip = planning_speed_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_army_planning_speed
				value = 0.1
			}
		}
		effect_tooltip = {
			set_variable = {
				var = commonwealth_army_max_planning
				value = 0.05
				tooltip = max_planning_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_army_max_planning
				value = 0.05
			}
		}
	}
}

joint_focus = {
	id = commonwealth_joint_wol_armytwo_con
	
	icon = GFX_focus_generic_manpower
	
	prerequisite = { focus = commonwealth_joint_wol_armytwo }

	x = 0
	y = 1
	relative_position_id = commonwealth_joint_wol_armytwo
	cost = 5

	text_icon = NORDIC_focus_style

	available = {
		
	}

	search_filters = {}

	joint_trigger = {
  		or = {
			tag = CAN
			tag = SAF
			tag = RAJ
			tag = AST
			tag = NZL
			tag = MAL
			tag = ENG
		} 
	}

	completion_reward = {
		
	}

	completion_reward_joint_originator = {
		#add_ideas = commonwealth_armor_3
		custom_effect_tooltip = modify_commonwealth_spirit_army

		effect_tooltip = {
			set_variable = {
				var = commonwealth_special_forces_cap
				value = 0.075
				tooltip = special_forces_cap_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_special_forces_cap
				value = 0.075
			}
		}
		effect_tooltip = {
			set_variable = {
				var = commonwealth_special_forces_attack_factor
				value = 0.075
				tooltip = special_forces_attack_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_special_forces_attack_factor
				value = 0.075
			}
		}
	}

	completion_reward_joint_member = { 
		#add_ideas = commonwealth_armor_4
		custom_effect_tooltip = modify_commonwealth_spirit_army

		hidden_effect = {
			set_variable = {
				var = commonwealth_special_forces_cap
				value = 0.0
			}
		}

		effect_tooltip = {
			set_variable = {
				var = commonwealth_special_forces_cap
				value = 0.075
				tooltip = special_forces_cap_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_special_forces_cap
				value = 0.075
			}
		}
	}
}

joint_focus = {
	id = commonwealth_joint_wol_armyone
	
	icon = GFX_focus_NORDIC_mon_army
	
	prerequisite = { focus = commonwealth_joint_wol }

	x = 0
	y = 1
	relative_position_id = commonwealth_joint_wol
	cost = 5

	text_icon = NORDIC_focus_style

	available = {
		
	}

	search_filters = {}

	joint_trigger = {
  		or = {
			tag = CAN
			tag = SAF
			tag = RAJ
			tag = AST
			tag = NZL
			tag = MAL
			tag = ENG
		} 
	}

	completion_reward = {
		army_experience = 25
	}

	completion_reward_joint_originator = {
		custom_effect_tooltip = modify_commonwealth_spirit_army
		effect_tooltip = {
			set_variable = {
				var = commonwealth_army_experience_gain_army_factor
				value = 0.1
				tooltip = experience_gain_army_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_army_experience_gain_army_factor
				value = 0.1
			}
		}
		add_doctrine_cost_reduction = {
			name = NORDIC_naval_exercises
			cost_reduction = 0.50
			uses = 2
			category = land_doctrine 
		}
	}

	completion_reward_joint_member = { 
		#custom_effect_tooltip = modify_commonwealth_spirit_army
		custom_effect_tooltip = modify_commonwealth_spirit_army
		effect_tooltip = {
			set_variable = {
				var = commonwealth_army_experience_gain_army_factor
				value = 0.1
				tooltip = experience_gain_army_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_army_experience_gain_army_factor
				value = 0.1
			}
		}
		add_doctrine_cost_reduction = {
			name = NORDIC_naval_exercises
			cost_reduction = 0.25
			uses = 2
			category = land_doctrine 
		}
	}
}

joint_focus = {
	id = commonwealth_joint_wol_armyone_con
	
	icon = GFX_focus_generic_combined_arms
	
	prerequisite = { focus = commonwealth_joint_wol_armyone }

	x = 0
	y = 1
	relative_position_id = commonwealth_joint_wol_armyone
	cost = 5

	text_icon = NORDIC_focus_style

	available = {
		
	}

	search_filters = {}

	joint_trigger = {
  		or = {
			tag = CAN
			tag = SAF
			tag = RAJ
			tag = AST
			tag = NZL
			tag = MAL
			tag = ENG
		} 
	}

	completion_reward = {
		army_experience = 25
	}

	completion_reward_joint_originator = {
		#add_ideas = commonwealth_armor_1
		custom_effect_tooltip = modify_commonwealth_spirit_army
		effect_tooltip = {
			set_variable = {
				var = commonwealth_army_armor
				value = 0.1
				tooltip = army_armor_attack_factor_tt
			}
		}
		effect_tooltip = {
			set_variable = {
				var = commonwealth_army_armor
				value = 0.1
				tooltip = army_armor_defence_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_army_armor
				value = 0.1
			}
		}
	}

	completion_reward_joint_member = { 
		#add_ideas = commonwealth_armor_2
		custom_effect_tooltip = modify_commonwealth_spirit_army
		effect_tooltip = {
			set_variable = {
				var = commonwealth_army_armor
				value = 0.05
				tooltip = army_armor_attack_factor_tt
			}
		}
		effect_tooltip = {
			set_variable = {
				var = commonwealth_army_armor
				value = 0.05
				tooltip = army_armor_defence_factor_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_army_armor
				value = 0.05
			}
		}
	}
}

joint_focus = {
	id = commonwealth_joint_wol_navy
	
	icon = GFX_focus_NORDIC_mon_navy
	
	prerequisite = { focus = commonwealth_joint_wol }

	x = 2
	y = 1
	relative_position_id = commonwealth_joint_wol
	cost = 5

	text_icon = NORDIC_focus_style

	available = {
		
	}

	search_filters = {}

	joint_trigger = {
  		or = {
			tag = CAN
			tag = SAF
			tag = RAJ
			tag = AST
			tag = NZL
			tag = MAL
			tag = ENG
		} 
	}

	completion_reward = {
		
	}

	completion_reward_joint_originator = {
		custom_effect_tooltip = modify_commonwealth_spirit_navy
		effect_tooltip = {
			set_variable = {
				var = commonwealth_industrial_capacity_dockyard
				value = 0.075
				tooltip = industrial_capacity_dockyard_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_industrial_capacity_dockyard
				value = 0.075
			}
		}
		navy_experience = 50
		add_doctrine_cost_reduction = {
			name = NORDIC_naval_exercises
			cost_reduction = 0.2
			uses = 2
			category = naval_doctrine 
		}
	}

	completion_reward_joint_member = { 
		custom_effect_tooltip = modify_commonwealth_spirit_navy
		effect_tooltip = {
			set_variable = {
				var = commonwealth_industrial_capacity_dockyard
				value = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_industrial_capacity_dockyard
				value = 0.05
			}
		}
		navy_experience = 30
		add_doctrine_cost_reduction = {
			name = NORDIC_naval_exercises
			cost_reduction = 0.2
			uses = 2
			category = naval_doctrine 
		}
	}
}

joint_focus = {
	id = commonwealth_joint_wol_navy_con
	
	icon = GFX_focus_generic_north_atlantic_fleet
	
	prerequisite = { focus = commonwealth_joint_wol_navy }

	x = 0
	y = 1
	relative_position_id = commonwealth_joint_wol_navy
	cost = 5

	text_icon = NORDIC_focus_style

	available = {
		has_war = yes
	}

	search_filters = {}

	joint_trigger = {
  		or = {
			tag = CAN
			tag = SAF
			tag = RAJ
			tag = AST
			tag = NZL
			tag = MAL
			tag = ENG
		} 
	}

	completion_reward = {
		
	}

	completion_reward_joint_originator = {
		custom_effect_tooltip = modify_commonwealth_spirit_navy
		effect_tooltip = {
			set_variable = {
				var = commonwealth_convoy_retreat_speed
				value = 0.33
				tooltip = convoy_retreat_speed_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_convoy_retreat_speed
				value = 0.33
			}
		}
		effect_tooltip = {
			set_variable = {
				var = commonwealth_convoy_escort_efficiency
				value = 0.4
				tooltip = convoy_escort_efficiency_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_convoy_escort_efficiency
				value = 0.4
			}
		}
		effect_tooltip = {
			set_variable = {
				var = commonwealth_naval_detection
				value = 0.2
				tooltip = naval_detection_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_naval_detection
				value = 0.2
			}
		}
		random_core_state = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 100
		}
	}

	completion_reward_joint_member = { 
		custom_effect_tooltip = modify_commonwealth_spirit_navy
		effect_tooltip = {
			set_variable = {
				var = commonwealth_convoy_retreat_speed
				value = 0.25
				tooltip = convoy_retreat_speed_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_convoy_retreat_speed
				value = 0.25
			}
		}
		effect_tooltip = {
			set_variable = {
				var = commonwealth_convoy_escort_efficiency
				value = 0.25
				tooltip = convoy_escort_efficiency_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_convoy_escort_efficiency
				value = 0.25
			}
		}
		effect_tooltip = {
			set_variable = {
				var = commonwealth_naval_detection
				value = 0.1
				tooltip = naval_detection_tt
			}
		}
		hidden_effect = {
			set_variable = {
				var = commonwealth_naval_detection
				value = 0.1
			}
		}
		random_core_state = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 50
		}
	}
}

joint_focus = {
	id = commonwealth_joint_wol_industry
	
	icon = GFX_goal_generic_consumer_goods
	
	prerequisite = { focus = commonwealth_joint_wol }

	x = 4
	y = 1
	relative_position_id = commonwealth_joint_wol
	cost = 5

	text_icon = NORDIC_focus_style

	available = {
		
	}

	search_filters = {}

	joint_trigger = {
  		or = {
			tag = CAN
			tag = SAF
			tag = RAJ
			tag = AST
			tag = NZL
			tag = MAL
			tag = ENG
		} 
	}

	completion_reward = {
		
	}

	completion_reward_joint_originator = {
		add_tech_bonus = {
			name = BUL_acquire_modern_tools
			bonus = 0.33
			uses = 2
			category = industry
		}
		add_offsite_building = {
			type = industrial_complex
			level = 3
		}
		add_cic = 2500
	}

	completion_reward_joint_member = { 
		add_tech_bonus = {
			name = BUL_acquire_modern_tools
			bonus = 0.25
			uses = 2
			category = industry
		}
		add_offsite_building = {
			type = industrial_complex
			level = 2
		}
		add_cic = 1000
	}
}

joint_focus = {
	id = commonwealth_joint_wol_industry_con_one
	
	icon = GFX_focus_generic_reorient_production
	
	prerequisite = { focus = commonwealth_joint_wol_industry }

	x = 0
	y = 1
	relative_position_id = commonwealth_joint_wol_industry
	cost = 5

	text_icon = NORDIC_focus_style

	available = {
		has_war = yes
	}

	search_filters = {}

	joint_trigger = {
  		or = {
			tag = CAN
			tag = SAF
			tag = RAJ
			tag = AST
			tag = NZL
			tag = MAL
			tag = ENG
		} 
	}

	completion_reward = {
		
	}

	completion_reward_joint_originator = {
		add_offsite_building = {
			type = arms_factory
			level = 2
		}
		every_core_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		add_ideas = commonwealth_industrial_coop
		if = {
			limit = {
				has_idea = civilian_economy
			}
			add_ideas = low_economic_mobilisation
		}
		else_if = {
			limit = {
				has_idea = low_economic_mobilisation
			}
			add_ideas = partial_economic_mobilisation
		}
		else_if = {
			limit = {
				has_idea = partial_economic_mobilisation
			}
			add_ideas = war_economy
		}
		else_if = {
			limit = {
				has_idea = war_economy
			}
			add_ideas = tot_economic_mobilisation
		}
	}

	completion_reward_joint_member = { 
		add_ideas = commonwealth_industrial_coop
		every_core_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		if = {
			limit = {
				has_idea = civilian_economy
			}
			add_ideas = low_economic_mobilisation
		}
		else_if = {
			limit = {
				has_idea = low_economic_mobilisation
			}
			add_ideas = partial_economic_mobilisation
		}
		else_if = {
			limit = {
				has_idea = partial_economic_mobilisation
			}
			add_ideas = war_economy
		}
		else_if = {
			limit = {
				has_idea = war_economy
			}
			add_ideas = tot_economic_mobilisation
		}
	}
}